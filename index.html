<!DOCTYPE html>
<html>

<head>
    <title>Jonathan Kron</title>

    <!-- Links and Libraries -->
    <link rel="stylesheet" href="css.css">
    <link rel="stylesheet" href="anim.css">

    <!-- Font -->

    <!-- Phone -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Icon -->
    <link rel="icon" type="image/png" href="./images/favicon-192x192.png">
</head>

<body>
    <div id="logoGifDiv">
        <a href="#" onclick="logoClick()">
            <img id="logoGif" src="graphics/In512.gif" width="250">
            <img id="logoGif" src="graphics/Out512.gif" width="250" style="display: none;">
        </a>

    </div>

    <div id="vol-slider">
        <button id="soundCalButton" onclick="startcal()">
            Sound Calibration
        </button>

        <br>

        <input type="range" min="0" max="100" value="50" id="volSliderID">
        <audio id="volumeTone">
            <source src="audio/track_1.wav" type="audio/wav">
        </audio>
        <script>
            var slider = document.getElementById("volSliderID");
            const simpleTone = document.getElementById('volumeTone');
            simpleTone.volume = 0;
            function startcal() {
                if (simpleTone.paused) {
                    simpleTone.play();
                    var fAudio = setInterval(function () {
                        simpleTone.volume += 0.01
                        console.log(simpleTone.volume);
                        if (simpleTone.volume >= 0.5) {
                            clearInterval(fAudio);
                        };
                    }, 50);
                    document.getElementById('volSliderID').className = 'volSliderExtendAnim';
                }
                else if (!simpleTone.paused) {
                    var fAudio = setInterval(function () {
                        simpleTone.volume -= 0.01
                        console.log(simpleTone.volume);
                        if (simpleTone.volume <= 0.02) {
                            simpleTone.pause();
                            clearInterval(fAudio);
                        };
                    }, 50);
                    document.getElementById('volSliderID').className = 'volSliderShrinkAnim';
                }
            };
            slider.oninput = function () {
                simpleTone.volume = this.value / 100;
            };
        </script>
    </div>



    <script>
        function logoClick() {
            document.getElementById('logoGif').src = 'graphics/Out512.gif';
            document.getElementById('logoGif').setAttribute('style', 'pointer-events: none;');

            document.getElementById('scroll-down').className = 'fadeIn';

            //document.getElementById('mainVideo').play();
            document.getElementById('content').className = 'fadeIn';
            document.getElementById('content').setAttribute('style', 'display: default;')

            document.getElementById('vol-slider').className = 'volSliderAnim';

            if (!simpleTone.paused) {
                var fAudio = setInterval(function () {
                    simpleTone.volume -= 0.01
                    console.log(simpleTone.volume);
                    if (simpleTone.volume <= 0.02) {
                        simpleTone.pause();
                        clearInterval(fAudio);
                    };
                }, 50);
            };
        };
    </script>

    <div id="scroll-down">
        <a href="#test-scroll-to">
            <img src="graphics/arrow-down.svg" width="50px">
        </a>
    </div>

    <div id="content" style="display: none;">
        <!--<video muted loop id="mainVideo">
    <source src="graphics/MainVideo.mp4" type="video/mp4">
    Your browser does not support HTML5 video.
        </video>-->
        <h1 style="margin-bottom: 500px;">Hello</h1>
        <h1 style="margin-bottom: 500px;">Hello2</h1>
        <h1 style="margin-bottom: 500px;">Hello3</h1>
        <h1 style="margin-bottom: 500px;">Hello4</h1>
        <h1 id="test-scroll-to" style="margin-bottom: 500px;">Hello5</h1>
        <h1 style="margin-bottom: 500px;">Hello6</h1>
        <h1 style="margin-bottom: 500px;">Hello7</h1>
        <h1 style="margin-bottom: 500px;">Hello8</h1>
    </div>

</body>

</html>